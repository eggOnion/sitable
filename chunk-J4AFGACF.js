import{e as y,f as B}from"./chunk-SJKNSU5S.js";import{h,j as v,k as S,p as C,q as c}from"./chunk-V25QKEGY.js";import{Ca as o,Ma as f,R as b,Ra as u,X as d,Xa as s,Za as e,_a as n,jb as i,kb as p,nb as g,ob as x,pb as k}from"./chunk-S3RXBBJ2.js";var l=class a{http=d(c);apiUrl="https://my-sitable.et.r.appspot.com/seats/viewMyBookings";getBookings(r,t){let m=new C({Authorization:`Bearer ${r}`,"Content-Type":"application/json"}),E={email:t,token:r};return this.http.post(this.apiUrl,E,{headers:m})}static \u0275fac=function(t){return new(t||a)};static \u0275prov=b({token:a,factory:a.\u0275fac,providedIn:"root"})};var M=()=>["/edit-seat-booking"],I=()=>["/delete-seat-booking"];function _(a,r){if(a&1&&(e(0,"tr")(1,"td"),i(2),n(),e(3,"td"),i(4),n(),e(5,"td"),i(6),n(),e(7,"td"),i(8),n(),e(9,"td"),i(10),n(),e(11,"td"),i(12),n(),e(13,"td"),i(14),x(15,"currency"),n()()),a&2){let t=r.$implicit;o(2),p(t.id),o(2),p(t.firstName),o(2),p(t.lastName),o(2),p(t.seatNumber),o(2),p(t.startTime),o(2),p(t.endTime),o(2),p(k(15,7,t.charges))}}var w=class a{viewBookingService=d(l);http=d(c);router=d(y);bookings=[];ngOnInit(){this.fetchMyBookings()}fetchMyBookings(){let r=sessionStorage.getItem("authToken"),t=sessionStorage.getItem("userEmail");if(!r||!t){this.router.navigate(["/"]);return}this.viewBookingService.getBookings(r,t).subscribe({next:m=>this.bookings=m,error:m=>alert("Error fetching bookings: "+m.message)})}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=f({type:a,selectors:[["app-view-seat-booking"]],decls:27,vars:5,consts:[[1,"container"],[4,"ngFor","ngForOf"],[1,"mod-btn"],["type","button",3,"routerLink"],["type","button",1,"del-booking",2,"background-color","#c82333",3,"routerLink"]],template:function(t,m){t&1&&(e(0,"div",0)(1,"h2"),i(2,"My Bookings"),n(),e(3,"table")(4,"thead")(5,"tr")(6,"th"),i(7,"Booking ID"),n(),e(8,"th"),i(9,"First Name"),n(),e(10,"th"),i(11,"Last Name"),n(),e(12,"th"),i(13,"Seat Number"),n(),e(14,"th"),i(15,"Start Time"),n(),e(16,"th"),i(17,"End Time"),n(),e(18,"th"),i(19,"Charges"),n()()(),e(20,"tbody"),u(21,_,16,9,"tr",1),n()(),e(22,"div",2)(23,"button",3),i(24," Edit Booking "),n(),e(25,"button",4),i(26," Delete Booking "),n()()()),t&2&&(o(21),s("ngForOf",m.bookings),o(2),s("routerLink",g(3,M)),o(2),s("routerLink",g(4,I)))},dependencies:[S,h,v,B],styles:[".container[_ngcontent-%COMP%]{margin:80px auto 20px;padding:20px;max-width:800px;border:1px solid #ddd;border-radius:8px;box-shadow:0 6px 15px #000001b3;background-color:#fff}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f4f4f4}tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.mod-btn[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:auto;padding:20px 0;gap:10px}.mod-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;transition:.3s ease}.mod-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.del-booking[_ngcontent-%COMP%]:hover{opacity:.8}"]})};export{w as ViewSeatBookingComponent};
